(this["webpackJsonptelecart-test"]=this["webpackJsonptelecart-test"]||[]).push([[0],{55:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var c={};a.r(c),a.d(c,"getContacts",(function(){return A})),a.d(c,"createContact",(function(){return N})),a.d(c,"deleteContact",(function(){return _})),a.d(c,"updateContact",(function(){return E}));var n={};a.r(n),a.d(n,"openModal",(function(){return D})),a.d(n,"hideModal",(function(){return I}));var r,o=a(0),l=a.n(o),s=a(14),i=a.n(s),j=(a(55),a(21)),d=a(81),u=a(82),O=j.c,b=a(7);!function(e){e.GET_CONTACTS="GET_CONTACTS",e.GET_CONTACTS_SUCCES="GET_CONTACTS_SUCCES",e.GET_CONTACTS_ERROR="GET_CONTACTS_ERROR",e.UPDATE_CONTACTS_LIST="UPDATE_CONTACTS"}(r||(r={}));var h,x={contacts:[],isLoading:!1,error:""},m=function(e){return e.contacts.contacts},p=a(86),f=a(87),C=a(24),g=a(17),T=a(48),v=a.n(T),y="contacts",S=function(){var e=localStorage.getItem(y);return e?JSON.parse(e):[]},A=function(){return function(e){var t=S();t.length?e({type:r.GET_CONTACTS_SUCCES,payload:t}):(e({type:r.GET_CONTACTS}),v.a.get("./db.json").then((function(t){var a=t.data;localStorage.setItem(y,JSON.stringify(a.contacts)),e({type:r.GET_CONTACTS_SUCCES,payload:a.contacts})})).catch((function(){e({type:r.GET_CONTACTS_ERROR,payload:"Contacts loading error."})})))}},N=function(e){return function(t){var a=S(),c=[].concat(Object(g.a)(a),[e]);localStorage.setItem(y,JSON.stringify(c)),t({type:r.UPDATE_CONTACTS_LIST,payload:c})}},_=function(e){return function(t){var a=S().filter((function(t){return t.pager!==e}));localStorage.setItem(y,JSON.stringify(a)),t({type:r.UPDATE_CONTACTS_LIST,payload:a})}},E=function(e,t){return function(a){var c=S().map((function(a){return a.pager===e?t:a}));localStorage.setItem(y,JSON.stringify(c)),a({type:r.UPDATE_CONTACTS_LIST,payload:c})}};!function(e){e.SHOW_MODAL="SHOW_MODAL",e.HIDE_MODAL="HIDE_MODAL"}(h||(h={}));var L,D=function(e){return function(t){t({type:h.SHOW_MODAL,payload:e})}},I=function(){return function(e){e({type:h.HIDE_MODAL})}},G=Object(b.a)(Object(b.a)({},c),n),w=function(){var e=Object(j.b)();return Object(C.b)(G,e)},M=a(84),P=a(2),R=function(e){var t=e.name,a=e.lastname,c=e.pager,n=w(),r=n.deleteContact,o=n.hideModal;return Object(P.jsxs)(M.a,{onSubmit:function(e){e.preventDefault(),r(c),o()},children:[Object(P.jsxs)(M.a.Text,{className:"text-muted delete-text",children:["Are you sure want to delete contact"," ",t," ",a," ","?"]}),Object(P.jsx)(f.a,{variant:"success",type:"button",className:"mr-2",onClick:o,children:"Cancel"}),Object(P.jsx)(f.a,{variant:"secondary",type:"submit",children:"Delete contact"})]})},U=a(9),H=a(19),k=function(e){var t=e.contact,a=w(),c=a.hideModal,n=a.updateContact,r=t.name,l=t.lastname,s=t.age,i=t.pager,j=Object(o.useState)({name:r,lastname:l}),d=Object(H.a)(j,2),u=d[0],O=d[1],h=Object(o.useState)({age:String(s),pager:String(i)}),x=Object(H.a)(h,2),m=x[0],p=x[1],C=Object(o.useState)(!1),T=Object(H.a)(C,2),v=T[0],y=T[1],S=function(e){var t=e.target,a=t.value,c=t.id;""!==a?/^[a-z]+$/i.test(a)&&O((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(U.a)({},c,a))})):O((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(U.a)({},c,a))}))},A=function(e){var t=e.target,a=t.value,c=t.id;""!==a?/^[0-9]+$/i.test(a)&&p((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(U.a)({},c,a))})):p((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(U.a)({},c,a))}))};return Object(P.jsxs)(M.a,{onSubmit:function(e){if(e.preventDefault(),[].concat(Object(g.a)(Object.values(u)),Object(g.a)(Object.values(m))).some((function(e){return""===e.trim()})))y(!0);else{var t={name:u.name,lastname:u.lastname,age:Number(m.age),pager:Number(m.pager)};n(i,t),c()}},children:[Object(P.jsxs)(M.a.Group,{controlId:"name",children:[Object(P.jsx)(M.a.Label,{children:"Name"}),Object(P.jsx)(M.a.Control,{type:"text",placeholder:"Enter contact name",value:u.name,onChange:S}),Object(P.jsx)(M.a.Text,{className:"text-muted",children:"Allowed characters is A-Z, a-z."})]}),Object(P.jsxs)(M.a.Group,{controlId:"lastname",children:[Object(P.jsx)(M.a.Label,{children:"Lastname"}),Object(P.jsx)(M.a.Control,{type:"text",placeholder:"Enter contact lastname",value:u.lastname,onChange:S}),Object(P.jsx)(M.a.Text,{className:"text-muted",children:"Allowed characters is A-Z, a-z."})]}),Object(P.jsxs)(M.a.Group,{controlId:"age",children:[Object(P.jsx)(M.a.Label,{children:"Age"}),Object(P.jsx)(M.a.Control,{type:"text",placeholder:"Age",value:m.age,onChange:A}),Object(P.jsx)(M.a.Text,{className:"text-muted",children:"Allowed characters 0-9."})]}),Object(P.jsxs)(M.a.Group,{controlId:"pager",children:[Object(P.jsx)(M.a.Label,{children:"Pager"}),Object(P.jsx)(M.a.Control,{type:"text",placeholder:"Pager",value:m.pager,onChange:A}),Object(P.jsx)(M.a.Text,{className:"text-muted",children:"Allowed characters 0-9."})]}),v&&Object(P.jsx)(M.a.Text,{className:"text-muted warn-text mb-2",children:"Please fill the fields correctly."}),Object(P.jsx)(f.a,{variant:"secondary",type:"button",onClick:c,className:"mr-2",children:"Cancel"}),Object(P.jsx)(f.a,{variant:"success",type:"submit",children:"Save"})]})},z=function(e){var t=e.data,a=w().openModal;return Object(P.jsx)(p.a,{children:Object(P.jsxs)(p.a.Body,{children:[Object(P.jsxs)(p.a.Title,{children:[t.name," ",t.lastname]}),Object(P.jsxs)(p.a.Subtitle,{className:"mb-2 text-muted",children:["Age:"," ",t.age]}),Object(P.jsxs)(p.a.Text,{children:["Pager:"," ",t.pager]}),Object(P.jsx)(f.a,{variant:"primary",onClick:function(){a({header:"Edit contact",body:Object(P.jsx)(k,{contact:t})})},className:"mr-2",children:"Edit contact"}),Object(P.jsx)(f.a,{variant:"secondary",onClick:function(){var e={header:"Delete contact",body:Object(P.jsx)(R,{name:t.name,lastname:t.lastname,pager:t.pager})};a(e)},children:"Delete contact"})]})})},J=function(){var e=O(m);return Object(P.jsx)(d.a,{children:Object(P.jsx)(u.a,{className:"justify-content-center",children:e.map((function(e){return Object(P.jsx)(z,{data:e},e.pager)}))})})},B=a(85),W=function(){var e=w(),t=e.hideModal,a=e.createContact,c=Object(o.useState)({name:"",lastname:""}),n=Object(H.a)(c,2),r=n[0],l=n[1],s=Object(o.useState)({age:"",pager:""}),i=Object(H.a)(s,2),j=i[0],d=i[1],u=Object(o.useState)(!1),O=Object(H.a)(u,2),h=O[0],x=O[1],m=function(e){var t=e.target,a=t.value,c=t.id;""!==a?/^[a-z]+$/i.test(a)&&l((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(U.a)({},c,a))})):l((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(U.a)({},c,a))}))},p=function(e){var t=e.target,a=t.value,c=t.id;""!==a?/^[0-9]+$/i.test(a)&&d((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(U.a)({},c,a))})):d((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(U.a)({},c,a))}))};return Object(P.jsxs)(M.a,{onSubmit:function(e){if(e.preventDefault(),[].concat(Object(g.a)(Object.values(r)),Object(g.a)(Object.values(j))).some((function(e){return""===e.trim()})))x(!0);else{var c={name:r.name,lastname:r.lastname,age:Number(j.age),pager:Number(j.pager)};a(c),t()}},children:[Object(P.jsxs)(M.a.Group,{controlId:"name",children:[Object(P.jsx)(M.a.Label,{children:"Name"}),Object(P.jsx)(M.a.Control,{type:"text",placeholder:"Enter contact name",value:r.name,onChange:m}),Object(P.jsx)(M.a.Text,{className:"text-muted",children:"Allowed characters is A-Z, a-z."})]}),Object(P.jsxs)(M.a.Group,{controlId:"lastname",children:[Object(P.jsx)(M.a.Label,{children:"Lastname"}),Object(P.jsx)(M.a.Control,{type:"text",placeholder:"Enter contact lastname",value:r.lastname,onChange:m}),Object(P.jsx)(M.a.Text,{className:"text-muted",children:"Allowed characters is A-Z, a-z."})]}),Object(P.jsxs)(M.a.Group,{controlId:"age",children:[Object(P.jsx)(M.a.Label,{children:"Age"}),Object(P.jsx)(M.a.Control,{type:"text",placeholder:"Age",value:j.age,onChange:p}),Object(P.jsx)(M.a.Text,{className:"text-muted",children:"Allowed characters 0-9."})]}),Object(P.jsxs)(M.a.Group,{controlId:"pager",children:[Object(P.jsx)(M.a.Label,{children:"Pager"}),Object(P.jsx)(M.a.Control,{type:"text",placeholder:"Pager",value:j.pager,onChange:p}),Object(P.jsx)(M.a.Text,{className:"text-muted",children:"Allowed characters 0-9."})]}),h&&Object(P.jsx)(M.a.Text,{className:"text-muted warn-text mb-2",children:"Please fill the fields correctly."}),Object(P.jsx)(f.a,{variant:"secondary",type:"button",onClick:t,className:"mr-2",children:"Cancel"}),Object(P.jsx)(f.a,{variant:"success",type:"submit",children:"Create"})]})},Z=function(){var e=w().openModal;return Object(P.jsxs)(B.a,{bg:"light",expand:"lg",children:[Object(P.jsx)(B.a.Brand,{href:"#home",children:"Contacts"}),Object(P.jsx)(f.a,{variant:"outline-success",onClick:function(){e({header:"Add new contact",body:Object(P.jsx)(W,{})})},children:"Add new contact"})]})},$=a(83),q=function(){var e=w().hideModal,t=O((function(e){return e.modal.isOpen})),a=O((function(e){return e.modal.header})),c=O((function(e){return e.modal.body}));return Object(P.jsxs)($.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:e,children:[Object(P.jsx)($.a.Header,{closeButton:!0,children:Object(P.jsx)($.a.Title,{id:"contained-modal-title-vcenter",children:a})}),Object(P.jsx)($.a.Body,{children:c})]})},F=function(){var e=w().getContacts;return Object(o.useEffect)((function(){e()}),[]),Object(P.jsxs)("div",{className:"app",children:[Object(P.jsx)(Z,{}),Object(P.jsx)(J,{}),Object(P.jsx)(q,{})]})},K=a(50),Q={isOpen:!1,header:"",body:null},V=Object(C.c)((L={},Object(U.a)(L,"contacts",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_CONTACTS:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0});case r.GET_CONTACTS_SUCCES:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,contacts:t.payload});case r.GET_CONTACTS_ERROR:return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,error:t.payload});case r.UPDATE_CONTACTS_LIST:return Object(b.a)(Object(b.a)({},e),{},{contacts:t.payload});default:return e}})),Object(U.a)(L,"modal",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.SHOW_MODAL:return Object(b.a)(Object(b.a)({},e),{},{isOpen:!0,header:t.payload.header,body:t.payload.body});case h.HIDE_MODAL:return Object(b.a)(Object(b.a)({},e),{},{isOpen:!1,header:"",body:null});default:return e}})),L)),X=Object(C.d)(V,Object(C.a)(K.a));i.a.render(Object(P.jsx)(l.a.StrictMode,{children:Object(P.jsx)(j.a,{store:X,children:Object(P.jsx)(F,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.58f3b14f.chunk.js.map